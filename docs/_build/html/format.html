<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>MDKV format &#8212; MDKV  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="CLI Reference" href="cli.html" />
    <link rel="prev" title="Architecture" href="architecture.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="mdkv-format">
<h1>MDKV format<a class="headerlink" href="#mdkv-format" title="Link to this heading">¶</a></h1>
<p>A <code class="docutils literal notranslate"><span class="pre">.mdkv</span></code> file is a ZIP archive with two key elements:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">manifest.yaml</span></code>: document metadata and an index of tracks</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tracks/</span></code>: UTF-8 Markdown files (one file per track)</p></li>
</ul>
<section id="manifest-schema">
<h2>Manifest schema<a class="headerlink" href="#manifest-schema" title="Link to this heading">¶</a></h2>
<p>Top-level fields:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">title</span></code>: string (required)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">authors</span></code>: list[string] (required, at least one)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">created</span></code>: ISO-8601 datetime string (required)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">version</span></code>: string (optional, default “0.1”)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">metadata</span></code>: object&lt;string,string&gt; (optional)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tracks</span></code>: list[Track] (optional, but a <code class="docutils literal notranslate"><span class="pre">primary</span></code> track is required for validity)</p></li>
</ul>
<p>Track object fields:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">track_id</span></code>: string (required, unique)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">track_type</span></code>: one of <code class="docutils literal notranslate"><span class="pre">primary</span></code>, <code class="docutils literal notranslate"><span class="pre">translation</span></code>, <code class="docutils literal notranslate"><span class="pre">commentary</span></code>, <code class="docutils literal notranslate"><span class="pre">code</span></code>, <code class="docutils literal notranslate"><span class="pre">reference</span></code>, <code class="docutils literal notranslate"><span class="pre">media_ref</span></code>, <code class="docutils literal notranslate"><span class="pre">revision</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">language</span></code>: string or null (optional). BCP-47/ISO-639 suggested for linguistic tracks</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">path</span></code>: string (required). Must start with <code class="docutils literal notranslate"><span class="pre">tracks/</span></code> and typically end with <code class="docutils literal notranslate"><span class="pre">.md</span></code></p></li>
</ul>
<section id="example-manifest">
<h3>Example manifest<a class="headerlink" href="#example-manifest" title="Link to this heading">¶</a></h3>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># manifest.yaml</span>
<span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Example</span>
<span class="nt">authors</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;Author&quot;</span><span class="p p-Indicator">]</span>
<span class="nt">created</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2025-01-01T00:00:00</span>
<span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;0.1&quot;</span>
<span class="nt">metadata</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{}</span>
<span class="nt">tracks</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">track_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">primary</span>
<span class="w">    </span><span class="nt">track_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">primary</span>
<span class="w">    </span><span class="nt">language</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">en</span>
<span class="w">    </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tracks/primary.md</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">track_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">notes</span>
<span class="w">    </span><span class="nt">track_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">commentary</span>
<span class="w">    </span><span class="nt">language</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span>
<span class="w">    </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tracks/notes.md</span>
</pre></div>
</div>
</section>
<section id="track-files">
<h3>Track files<a class="headerlink" href="#track-files" title="Link to this heading">¶</a></h3>
<p>Track contents are stored as Markdown files inside the archive, relative to <code class="docutils literal notranslate"><span class="pre">path</span></code> in the manifest:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tracks/primary.md</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tracks/notes.md</span></code></p></li>
</ul>
<p>Each file contains the UTF-8 Markdown for that track.</p>
</section>
</section>
<section id="validation-rules">
<h2>Validation rules<a class="headerlink" href="#validation-rules" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">title</span></code> and <code class="docutils literal notranslate"><span class="pre">authors</span></code> must be present</p></li>
<li><p>At least one track of <code class="docutils literal notranslate"><span class="pre">track_type:</span> <span class="pre">primary</span></code> must exist</p></li>
<li><p>Track <code class="docutils literal notranslate"><span class="pre">path</span></code> must begin with <code class="docutils literal notranslate"><span class="pre">tracks/</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">track_type</span></code> must be one of the supported values</p></li>
</ul>
</section>
<section id="round-trip-export-headers">
<h2>Round-trip export headers<a class="headerlink" href="#round-trip-export-headers" title="Link to this heading">¶</a></h2>
<p>When exporting to a single Markdown stream, tracks are prefixed with lightweight HTML comments carrying track metadata. These hints enable reconstructing which text came from which track during round-trip workflows:</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span>&lt;!-- track:primary type:primary lang:en --&gt;
<span class="gh"># Title</span>

&lt;!-- track:notes type:commentary lang:None --&gt;
Editorial notes here
</pre></div>
</div>
<p>These headers are informational; they are not required in individual track files within a <code class="docutils literal notranslate"><span class="pre">.mdkv</span></code> container.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">MDKV</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="concept.html">MDKV concept</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">Architecture</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">MDKV format</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#manifest-schema">Manifest schema</a></li>
<li class="toctree-l2"><a class="reference internal" href="#validation-rules">Validation rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#round-trip-export-headers">Round-trip export headers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">CLI Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="architecture.html" title="previous chapter">Architecture</a></li>
      <li>Next: <a href="cli.html" title="next chapter">CLI Reference</a></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, MDKV Authors.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.1.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/format.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>